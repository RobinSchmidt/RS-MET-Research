% This file is for creating and tweaking one plot at a time. When working on one plot, we don't want
% to do that in the context of a document that contains a lot of other stuff because that makes the
% edit -> compile -> inspect cycle very long. We create and tweak the plot here and once it's
% finished, we move the code over into another place like DemoPlots.tex.

\include{Setup}

\begin{document}









%---------------------------------------------------------------------------------------------------
% 3D plots with arrows drawn in



% Torus:
\begin{tikzpicture}
\begin{axis}
  \addplot3[surf, colormap/cool, samples=20, domain=0:2*pi,y domain=0:2*pi, z buffer=sort]
  ({(2+cos(deg(x)))*cos(deg(y+pi/2))}, 
   {(2+cos(deg(x)))*sin(deg(y+pi/2))}, 
   {sin(deg(x))});
\end{axis}
\end{tikzpicture}
% From here:
% https://tex.stackexchange.com/questions/348/how-to-draw-a-torus

% Fancy Torus:

%\begin{tikzpicture}
%  \begin{axis}[
%      axis equal image,
%      axis lines=middle,
%      xmax=18,zmax=5,
%      ticks=none,
%      clip bounding box=upper bound,
%      colormap/blackwhite
%    ]
%
%    \addplot3[domain=0:360,y domain=0:320, samples=50,surf,z buffer=sort]
%    ({(12 + 3 * cos(x)) * cos(y)} ,
%    {(12 + 3 * cos(x)) * sin(y)},
%    {3 * sin(x)});
%    % use axis coordinate system to draw the radii
%    \draw [thick,blue] (axis cs: 0,0,0) -- (axis cs: 12,0,0) node [midway,above=-2] {$R$};
%    \draw [thick,red] (axis cs: 12,-0.2,0) -- (axis cs: 12,3.7,0) node [midway,below right=-3] {$r$};
%
%    % use axis coordinate system to draw fake x, y and z axes
%    \draw [-latex] (axis cs: 0,0,0) -- node [pos=0.9, xshift=0.5em]{$z$}(axis cs: 0,0,10);
%    \draw [-latex] (axis cs: 0,-15,0) --
%    node [pos=0.9, xshift=-1em, yshift=0.5em]{$y$}(axis cs: 0,-20,0);
%    \draw (axis cs: 0,0,0) -- (axis cs: 0,9,0);
%    \draw (axis cs: 0,0,0) -- (axis cs: -9,0,0);
%  \end{axis}
%\end{tikzpicture}

% from here:
% https://tikz.net/torus/
% https://github.com/janosh/tikz/
% Gives error "TeX capacity exceeded, sorry [main memory size=3000000]. \end{axis}"
% See:
% https://tex.stackexchange.com/questions/7953/how-to-expand-texs-main-memory-size-pgfplots-memory-overload
% https://www.florian-rappl.de/Articles/Page/239/latex-memory


\pgfplotsset{width=16cm,height=10cm,compat=1.12}
\begin{tikzpicture}[thick, >=stealth']
\begin{axis}[xlabel={$x$}, ylabel={$y$}, xmin=-1.5,xmax=1.5,ymin=-1.5,ymax=+1.5, samples=17]
  \addplot3[surf, faceted color=black, fill=white, domain=-1:1, y domain=-1:1] 
  {1-x^2-y^2};
%  \draw[->, ultra thick] (0,0,0) -- (1,1,0);
%  \fill[red] (0.5,-0.25,0.625) circle (3pt);
\fill[red] (0.5,-0.5,0.5) circle (3pt);
\end{axis}
\end{tikzpicture}
% "domain" means "x domain", "y domain" means what it says
% surf does not seem to accept the draw=black command - ah one needs to use "faceted color = black"


\pgfplotsset{width=16cm,height=10cm,compat=1.12}
\begin{tikzpicture}[thick, >=stealth']
\begin{axis}[xlabel={$x$}, ylabel={$y$}, xmin=-2,xmax=2,ymin=-2,ymax=+2,samples=11]
  \addplot3[surf, mesh, color=gray, domain=-1:1, y domain = -1:1] {x+y+1};
  %\draw[->, thick, red]   (0,0,0) -- (1,0,0);
  %\draw[->, thick, green] (0,0,0) -- (0,1,0);
  %\draw[->, thick, blue]  (0,0,0) -- (0,0,1);
  \draw[->, ultra thick] (0,0,0) -- (1,1,0);
  \fill[black] (0,0,0) circle (3pt);
\end{axis}
\end{tikzpicture}


% trying to draw in 3D arrows
% https://tex.stackexchange.com/questions/267222/3d-arrows-with-tikz
% shows also how to set local variables (using pgfsetmacro)

% This looks relevant:
% https://tex.stackexchange.com/questions/310478/pgfplot-3d-version-of-a-plane-and-its-the-gradient-vector

\pgfplotsset{width=16cm,height=10cm,compat=1.12}
\begin{tikzpicture}[thick, >=stealth']
\begin{axis}[xlabel={$x$}, ylabel={$y$}]
  \addplot3[surf, mesh] {x+y+1};
  \draw[->, ultra thick] (0,0,0) -- (1,1,0);
  \fill[black] (0,0,0) circle (3pt);
\end{axis}
\end{tikzpicture}
% It's important to use compat=1.12 ...or maybe higher. With 1.9, it didn't work
% ToDo: the arrow-head still looks kinda ugly - try to improve that - ok - done


% See also:
% https://tex.stackexchange.com/questions/518504/how-can-i-draw-gradient-arrows-on-iso-contour


% https://tex.stackexchange.com/questions/631435/tikz-3d-surface-plot

% Try drawing a torus with tangential plane, unit normal vector
% https://tex.stackexchange.com/questions/348/how-to-draw-a-torus

% https://latexdraw.com/how-to-draw-a-torus-in-latex-using-tikz/?utm_content=cmp-true#t-1608582125077

% https://tikz.net/torus/

\end{document}