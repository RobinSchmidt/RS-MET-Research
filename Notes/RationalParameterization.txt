----------------------------------------------------------------------------------------------------
Problem

We assume that we have an implicit definition of an algebraic variety given and we want to find a
rational parameterization for that. There is a recipe for that which sometimes works. We'll see it
in action on the example of the unit circle defined by the equation:

  x^2 + y^2 - 1 = 0
  
That's our implicit definition of the variety. What we want to find is a pair of rational functions
x(t), y(t) that parameterize our given variety. 

----------------------------------------------------------------------------------------------------
Derivation

Our first step is to find some convenient fixed point P on the variety which has rational 
coordinates. We will pick the point 

  P = (0,1) 
  
to be our fixed point. Next, we pick a variable second point Q not assumed to be on the circle. It 
should be chosen conveniently and such that when we connect P and Q by a straight line, this 
(possibly extended) line should intersect our circle in a second point, let's call it R. By 
construction, the line will always intersect (or at least be tangent to) the circle in P. It is this 
second point of intersection R, whose coordinates we want to figure out. It will be some function of
the point Q: R = f(Q). The function f is what we ultimately wante to figure out. The point Q should 
be made variable by our parameter t in such a way that, when t sweeps out some interval of values, 
the second point of intersection Q will sweep out our circle. We will chose the point Q to be a 
point on the x-axis with its x-coordinate being equal to t. That is:

  Q = (t,0)
  
Next, we look at the line that connects P and Q. That line can be given parametrically as:

  L(s) = (1-s)*P + s*Q

where it is important to note that the parameter that parameterizes the line, namely s, is a 
different variable than our eventual parameter t that we wnat to use in our rational 
parameterization (that really confused me initially). Our parametric line can be split into its x-
and y-component:

  x(s) = (1-s)*P_x + s*Q_x = (1-s)*0 + s*t = s*t
  y(s) = (1-s)*P_y + s*Q_y = (1-s)*1 + s*0 = 1-s
  
where we use the notation P = (P_x, P_y), Q = (Q_x, Q_y) for denoting the x- and y-coordinates of 
our points P and Q. Now we want to figure out a value of s, such that the point (x(s), y(s)) 
satisfies our circle equation x^2 + y^2 - 1 = 0. So we plug in the coordinate functions x(s), y(s) 
into the equation:

  0 = (x(s))^2 + (y(s))^2 - 1
  0 = (s*t)^2  + (1-s)^2  - 1  
  0 = s^2*t^2 + 1 - 2*s + s^2 - 1
  0 = s^2*(t^2 + 1) - 2*s
  
From the last line, we can read off that s = 0 satisfies the equation. It would be strange if it 
wouldn't be the case because s = 0 should, by construction, give us back our fixed point P - which 
it indeed dutyfully does. We are interested in the second solution. That should give us the *other*
intersection of our line with the circle - the one we are really interested in. We are allowed to 
divide both sides by s because we now can assume s != 0 because we are interested in an s other than 
zero. That brings us to:

  0 = s*(t^2 + 1) - 2
  s = 2 / (t^2 + 1)
  
which, by plugging that value of s into x(s), y(s), gives:

  x = s*t 
    = (2 / (t^2 + 1)) * t 
    = 2*t / (t^2 + 1)
	
  y = 1-s 
    = 1  -  2 / (t^2 + 1)
	= ((t^2 + 1) / (t^2 + 1))  -  (2 / (t^2 + 1))
	= (t^2 + 1 - 2)  / (t^2 + 1)
    = (t^2 - 1) / (t^2 + 1)
  
which are both functions of our t-parameter which determines our variable point on the x-axis, as
desired. Summarizing, we have arrived at the following rational parameterization of the unit circle:

  ┌──────────────────────────────┐
  │ x(t) = (  2*t  ) / (t^2 + 1) │
  │ y(t) = (t^2 - 1) / (t^2 + 1) │
  └──────────────────────────────┘
  
Tadaa! That's our final result!  
  
----------------------------------------------------------------------------------------------------
Discussion

The parameterization is "rational" in the sense that both coordinate functions are rational 
functions of the parameter t. That implies that when we plug in rational numbers for t, the 
resulting coordinates x(t), y(t) will also be rational numbers. In fact, our parameterization 
generates almost all rational points on the unit circle when t sweeps from minus infinity to plus 
infinity. The only missing point is our original fixed point P = (0,1). This is the edge case for 
when the line approaches tangency when t approaches plus or minus infinity. In this case, the second 
point of intersection Q approaches our fixed first point of intersection P.

Our found formulas are the same as those on page 2 in this book (the page is available in the
preview):

  https://www.amazon.de/-/en/Anil-Nerode/dp/3031116151

but different from those shown on wikipedia:

  https://en.wikipedia.org/wiki/Circle#Parametric_form

First of all, the formulas on wikipedia are more general because they do not assume the unit circle
but rather a general circle with center (a,b) and radius r. But even when setting (a,b) = (0,0) 
and r = 1, the formulas are still different. Apparently, the formulas on wikipedia can be derived by 
choosing a different fixed point P and/or a different formula to costruct the second point Q. 
Another derivation that I have seen in this book  (pages 8,9 - not available in the preview):

  https://www.amazon.de/-/en/Avner-Ash/dp/0691163502/

arrives at formulas compatible with those on wikipedia. They choose the fixed point P = (-1,0) and 
let the variable point Q sweep out the y-axis. Their derivtaion is also a bit simpler than mine
because they do not use the parametric equation of the line but rather an explicit form y = f(x). I 
have opted for the parametric line equation because I hope that this generalizes better to other
varieties.

I said in the beginning, that this recipe *sometimes* works to find a rational parameterization for 
an implicitly defined algebraic variety. Our derivation here worked out so nicely because at some 
point, we had this equation:

  0 = s^2*(t^2 + 1) - 2*s

which allowed us to divide by s on both sides which in turn allowed us to solve for s in terms of t 
like so:

   s = 2 / (t^2 + 1)

Had there be a constant term c in the equation:

  0 = s^2*(t^2 + 1) - 2*s + c
  
we would have had to invoke the quadratic formula to solve for s and we might have gotten two 
solutions and these solutions would involve a square root. So, it seems like that arriving a purely 
rational solution was due to being "lucky" enough, that some of the equations along the way 
simplified in a nice way. In a different setting, it might be possible that we may need to invoke 
the quadratic formula and if the variety if of higher degree, quite possible even the cubic or 
quartic formula or a numeric polynomila root-finder. In such cases, our parameterization would not
qualify as "rational" anymore - but at least, it would still qualify as algebraic. 

...I guess. I didn't try this method on other examples yet. When I do and find something 
interesting, I'll extend this document with my findings.

----------------------------------------------------------------------------------------------------

ToDo, Questions:

- Use the same method to find a rational parameterization of an ellipsoid. That shows how to 
  generalize the method to a variety of higher dimension and allows the variety itself to be 
  tweakable in shape. I *hope* that it works out smoothly when we approach it as follows:
  - Use the implicit equation: (x/a)^2 + (y/b)^2 + (z/c)^2 - 1 = 0 for the ellipsoid.
  - Use the same ansatz with the line: L(s) = (1-s)*P + s*Q
  - Use P = (0,0,c) as fixed point P. It's the point where the z-axis pierces ellipsoid.
  - Use Q = (u,v,0) as second point Q. It is a point in the xy-plane which has the two parameters 
    u,v that determine its x- and y- coordinates.
  - The hope is, that when we choose u,v, to be both rational, that this will generate all rational
    points on the ellipsoid (assuming our ellipsoid shape parameters a,b,c are also rational, of 
	course). I have no idea yet, if it will indeed work out like that.
  
- How would one proceed to find the more standard parameterization for the unit circle  
  x(t) = cos(t), y(t) = sin(t)  from  x^2 + y^2 - 1 = 0? I guess one could just write it as  
  x^2 + y^2 = 1  and then say: "Hey! I know that sin^2 + cos^2 = 1" - but looking at the implicit 
  equation and *guessing* a parameterization does not really count as a generalizable algorithm.
  
  
Resources:  
  
- Finding Rational Parametric Curves of Relative Degree One or Two:  
  https://maa.org/sites/default/files/pdf/cmj_ftp/CMJ/November%202010/3%20Articles/4%20Boyles/08-256%20wpics.pdf  
  
- Rational Parametrization of Curves  
  https://www3.risc.jku.at/education/courses/ss2018/caag/08-para.pdf  